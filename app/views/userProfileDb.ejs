<% include partials/header.ejs %>
  <main>
    <!-- <div class="container"> -->
    <h3 style="text-align: center">List of all Users</h3>
    <hr>
    <table class="responsive-table centered highlight bordered" width="100%">
      <thead>
        <tr>
          <th width="(100/6)%" style="text-align: center">Serial no.</th>
          <th width="(100/6)%" style="text-align: center">Name</th>
          <th width="(100/6)%" style="text-align: center">Contact no.</th>
          <th width="(100/6)%" style="text-align: center">Email Id</th>
          <th width="(100/6)%" style="text-align: center">In Batch</th>
        </tr>
      </thead>
      <tbody>
        <% users.forEach(function (user, i) { %>
          <tr id="<%= user.id %>">
            <td width="(100/6)%" style="text-align: center">
              <%= i + 1 %>
            </td>

            <td width="(100/6)%" style="text-align: center">
              <%= user.username %>
            </td>

            <% if(user.profile && user.profile != null){ %>
              <td width="(100/6)%" style="text-align: center">
                <%= user.profile.phone %>
              </td>
              <% } else { %>
                <td width="(100/6)%" style="text-align: center">----
                </td>
                <% } %>

                  <% if(user.profile && user.profile != null){ %>
                    <td width="(100/6)%" style="text-align: center">
                      <%= user.profile.emailId %>
                    </td>
                    <% } else { %>
                      <td width="(100/6)%" style="text-align: center">----
                      </td>
                      <% } %>

                        <% if(user.profile && user.profile != null && user.profile.batch){ %>
                          <td width="(100/6)%" style="text-align: center">
                            <%= user.profile.batch.batchName %>
                          </td>
                          <% } else { %>
                            <td width="(100/6)%" style="text-align: center">----
                            </td>
                            <% } %>

                              <td width="(100/6)%" height="40px" style="text-align: center">
                                <a href="/admin/db/users/<%=user.id%>/edit">
                                  <i class="material-icons blue-text">create</i>
                                </a>
                              </td>

                              <td width="(100/6)%" height="40px" style="text-align: center">
                                <a onClick="confirmDelete(this)" class="tooltipped" data-position="bottom" data-delay="50" data-tooltip="Delete This User!">
                                  <i class="material-icons red-text">delete_forever</i>
                                </a>
                              </td>
          </tr>
          <% }) %>

      </tbody>
    </table>
    <!-- </div> -->
  </main>

  <% include partials/footer.ejs %>

    <script src="/js/userProfileDb.js"></script>
